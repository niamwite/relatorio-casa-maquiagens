<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RelatÃ³rio - Campanha WhatsApp Â· Casa das Maquiagens</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-dark: #0f172a; --bg-light: #1e293b; --text-primary: #f8fafc; --text-secondary: #94a3b8;
      --accent-1: #22d3ee; --accent-2: #a78bfa; --accent-3: #f472b6; --border-color: rgba(255, 255, 255, 0.1);
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    * { box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif; margin: 0;
      background-color: var(--bg-dark); color: var(--text-primary);
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
      padding: 24px;
    }
    .container { max-width: 900px; margin: 0 auto; }
    .animated-item {
      opacity: 0; animation: slideUp 0.6s cubic-bezier(0.25, 1, 0.5, 1) forwards;
      animation-delay: var(--delay, 0s);
    }
    header { text-align: center; margin-bottom: 48px; }
    header h1 { font-size: 28px; font-weight: 700; margin: 0 0 8px 0; background: linear-gradient(90deg, var(--accent-1), var(--accent-2)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    header p { font-size: 16px; color: var(--text-secondary); margin: 0; max-width: 600px; margin-left: auto; margin-right: auto; }
    .grid-container { display: grid; gap: 24px; }
    .card {
      background: rgba(30, 41, 59, 0.5); border: 1px solid var(--border-color); border-radius: 16px;
      padding: 24px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }
    h2 { font-size: 18px; font-weight: 600; margin: 0 0 20px 0; border-bottom: 1px solid var(--border-color); padding-bottom: 12px; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; }
    .stat-item { text-align: center; }
    .stat-item .icon { font-size: 28px; line-height: 1; margin-bottom: 8px; }
    .stat-item .value { font-size: 28px; font-weight: 700; }
    .stat-item .label { font-size: 13px; color: var(--text-secondary); }
    .chart-container { position: relative; width: 100%; min-height: 300px; }
    .heatmap-container { margin-top: 24px; }
    .heatmap-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 4px; }
    .heatmap-cell {
      aspect-ratio: 1 / 1; background-color: var(--bg-light); border-radius: 4px;
      opacity: 0.2; transition: all 0.3s ease;
    }
    .analysis-list { list-style: none; padding: 0; margin: 0; }
    .analysis-list li {
      display: flex; align-items: flex-start; gap: 12px;
      margin-bottom: 16px; font-size: 14px; line-height: 1.6; color: var(--text-secondary);
    }
    .analysis-list .icon { color: var(--accent-1); margin-top: 4px; }
    .analysis-list strong { color: var(--text-primary); font-weight: 600; }
    footer { text-align: center; margin-top: 48px; font-size: 12px; color: var(--text-secondary); }
    footer strong { color: var(--text-primary); }
    @media (min-width: 768px) {
      .grid-container { grid-template-columns: 1fr 1fr; }
      .full-width { grid-column: 1 / -1; }
      h1 { font-size: 32px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="animated-item">
      <h1>RelatÃ³rio de Performance da Campanha</h1>
      <p>AnÃ¡lise de resultados da campanha de aquisiÃ§Ã£o de lojistas via WhatsApp para a Casa das Maquiagens. Atualizado em <strong id="updated"></strong>.</p>
    </header>

    <main class="grid-container">
      <div class="card full-width animated-item" style="--delay: 0.1s;">
        <h2>MÃ©tricas Principais</h2>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="icon" style="color: var(--accent-3);">ðŸ’°</div>
            <div class="value">R$ 31,72</div>
            <div class="label">Investimento Total</div>
          </div>
          <div class="stat-item">
            <div class="icon" style="color: var(--accent-1);">ðŸ’¬</div>
            <div class="value">431</div>
            <div class="label">Conversas Iniciadas</div>
          </div>
          <div class="stat-item">
            <div class="icon" style="color: var(--accent-2);">âœ…</div>
            <div class="value">107</div>
            <div class="label">Lojistas VÃ¡lidos</div>
          </div>
          <div class="stat-item">
            <div class="icon" style="color: #facc15;">ðŸ›’</div>
            <div class="value">0</div>
            <div class="label">Vendas Geradas</div>
          </div>
        </div>
      </div>

      <div class="card animated-item" style="--delay: 0.2s;">
        <h2>Funil de ConversÃ£o</h2>
        <div class="chart-container">
          <canvas id="doughnutChart"></canvas>
        </div>
      </div>

      <div class="card animated-item" style="--delay: 0.3s;">
        <h2>Atividade por Hora</h2>
        <div class="heatmap-container" id="heatmap">
          <p style="color: var(--text-secondary); font-size: 14px;">DistribuiÃ§Ã£o simulada de conversas ao longo do dia, mostrando picos de atividade.</p>
          <div class="heatmap-grid" id="heatmapGrid">
            </div>
        </div>
      </div>

      <div class="card full-width animated-item" style="--delay: 0.4s;">
        <h2>AnÃ¡lise EstratÃ©gica & PrÃ³ximos Passos</h2>
        <ul class="analysis-list">
          <li>
            <div class="icon">ðŸ’¡</div>
            <div><strong>ROI Imediato com Tecnologia PrÃ³pria:</strong> A economia de <strong>R$32,10</strong> (107 leads x R$0,30) com nosso validador de CNPJ jÃ¡ superou o custo total da campanha. A tecnologia se pagou e gerou lucro.</div>
          </li>
          <li>
            <div class="icon">ðŸŽ¯</div>
            <div><strong>Custo por Lead Qualificado (CPL):</strong> Adquirimos cada lojista validado por apenas <strong>R$0,29</strong>. Um CPL extremamente baixo que demonstra a alta eficiÃªncia e precisÃ£o da segmentaÃ§Ã£o.</div>
          </li>
          <li>
            <div class="icon">ðŸš€</div>
            <div><strong>Oportunidade de ConversÃ£o:</strong> O desafio agora Ã© puramente comercial. Com 107 lojistas validados, o prÃ³ximo passo Ã© implementar uma estratÃ©gia de follow-up e uma oferta de ativaÃ§Ã£o para converter esse potencial em receita.</div>
          </li>
        </ul>
      </div>
    </main>

    <footer class="animated-item" style="--delay: 0.5s;">
      RelatÃ³rio gerado para <strong>Casa das Maquiagens</strong>.
    </footer>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // --- Dados da Campanha ---
      const conversas = 431;
      const cnpjsValidos = 107;
      const vendas = 0;

      // --- Atualiza Timestamp ---
      document.getElementById('updated').innerText = new Date().toLocaleDateString('pt-BR', { day: '2-digit', month: 'long', year: 'numeric' });

      // --- GrÃ¡fico de Funil (Donut Chart) ---
      const ctxD = document.getElementById('doughnutChart').getContext('2d');
      new Chart(ctxD, {
        type: 'doughnut',
        data: {
          labels: [`Conversas (${conversas})`, `Lojistas VÃ¡lidos (${cnpjsValidos})`, `Vendas (${vendas})`],
          datasets: [{
            data: [conversas, cnpjsValidos, vendas],
            backgroundColor: ['#22d3ee', '#a78bfa', '#f472b6'],
            borderColor: '#1e293b',
            borderWidth: 4,
            hoverOffset: 8
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: '70%',
          plugins: {
            legend: {
              position: 'bottom',
              labels: { color: '#f8fafc', padding: 20, font: { size: 14 } }
            },
            tooltip: {
              backgroundColor: '#0f172a',
              titleFont: { size: 14 },
              bodyFont: { size: 12 },
              padding: 10,
              cornerRadius: 8,
              borderColor: 'rgba(255,255,255,0.1)',
              borderWidth: 1
            }
          }
        }
      });

      // --- Heatmap de Atividade por Hora ---
      const hourlyData = [3,2,4,1,0,1,5,12,25,40,38,46,50,48,42,36,30,27,22,18,12,8,5,2];
      const heatmapGrid = document.getElementById('heatmapGrid');
      
      // Create 24 cells for the heatmap
      for (let i = 0; i < 24; i++) {
        const cell = document.createElement('div');
        cell.classList.add('heatmap-cell');
        heatmapGrid.appendChild(cell);
      }
      
      // Animate cells based on data after a short delay
      setTimeout(() => {
        const cells = heatmapGrid.children;
        const maxVal = Math.max(...hourlyData);
        hourlyData.forEach((value, i) => {
          const opacity = 0.2 + (value / maxVal) * 0.8;
          cells[i].style.opacity = opacity;
          cells[i].style.transitionDelay = `${i * 20}ms`;
        });
      }, 300);
    });
  </script>
</body>
</html>
